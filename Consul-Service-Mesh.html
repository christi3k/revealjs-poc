<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Consul Service Mesh</title>

		<link rel="stylesheet" href="reveal.js/css/reveal.css">
    <link rel="stylesheet" href="reveal.js/css/theme/sky.css">
    <!--<link rel="stylesheet" href="hashicorp-white.css">-->
    <link rel="stylesheet" href="css/local.css">

		<!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="css/atom-one-dark.css">
		<!--<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">-->

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="images/common/consul-background.001.png" class="title-slide">
          <img class="plain left" width="30%" src="images/common/Consul_PrimaryLogo_FullColor.png">
          <h1>Consul Service Mesh</h1>
          <h2>Distributed service networking layer to connect, secure, and configure services.</h2>
          <h3>Christie Koehler</br>
          City HUG - Month Year</h3>
            <aside class="notes">
		Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit »S« on your keyboard).
            </aside>
        </section>
        <section class="presenter-slide">
          <img class="plain left" src="images/common/headshot-placeholder-250px.png" alt="presenter headshot"/>
          <h1>Presenter Name</h1>
          <h2>Title, Affiliation<br />
            @socialmedia
          </h2>
            <aside class="notes">
            [Update slide with your photo, if desired, otherwise remove, your name, affiliation, and social media info. Update speaker notes with any biographical information you want to include.]
            </aside>
        </section>
        <section>
          <h1>HashiCorp Suite</h1>
          <img class="left" src="images/common/hashicorp-suite.png" alt=""/>
          <aside class="notes">
            HashiCorp's goal is to make tools that support application delivery.

            <strong>Layers.</strong> First, how do we provision the underlying infrastructure? Terraform, along with Packer and Vagrant. How do we secure this infrastructure? Vault. How do we run applications across multiple environments? Nomad. How do we connect and wire all these things together across multiple environments? Consul.

HashiCorp Tools are designed to be Simple, Modular, Composable. (See Tao of HashiCorp.) They work great together, but also are designed to work with your existing infrastructure and tooling.

Open source workflows address technical complexity
Enterprise workflows address organizational complexity
          </aside>
        </section>
				<section>
          <h1>From <em>Monoliths</em> to <em>Microservices</em></h1>
          <h2>A trend toward dynamic infrastructure</h2>
          <aside class="notes">
           One thing we're all noticing, regardless of what stage in the journey we're currently at, is this trend away from monolithic, static infrastructure towards microservices and dynamic infrastructure. What do I mean by this? Let's take a look at where we're coming from... 
          </aside>
				</section>
				<section>
          <h1><em>Monoliths:</em> How do they even work?</h1>
          <aside class="notes">
            A lot of us have experience deploying monolith apps. Let's take a look at how those often work.
          </aside>
				</section>
        <section>
          <h1>Monolith</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/monolith-01.png" alt=""/>
            <span>Many subsystems deployed as a single application.</span>
          </div>
          <aside class="notes">
           In a monolith, we have several many subsystems deployed as a single application. Possibly on a dedicated or virtualized server that was deployed and is maintained manually or with a collection of customized scripts. 
          </aside>
        </section>
        <section>
          <h1>Monolith</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/monolith-02.png" alt=""/>
            <span>Subsystem calls stay within node. No network calls.</span> 
          </div>
          <aside class="notes">
            When subsystem A wants to call subsystem B, this is done by an in-memory function call. Data is shared in process, and we don’t need to use the network.
          </aside>
        </section>
        <section>
          <h1>Monolith</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/monolith-03.png" alt=""/>
            <span>Static IP addressing typical for network calls.</span>
          </div>
          <aside class="notes">
            When a subsystem needed to communicate outside of its node, often static IP addresses were used.
          </aside>
        </section>
        <section>
          <h1>Monolith</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/monolith-04.png" alt=""/>
            <span>To scale, deploy many copies with load balancer.</span>
          </div>
          <aside class="notes">
            As we need to scale, we would deploy more copies of our monolith and use a load balancer to spread traffic.
          </aside>
        </section>
        <section>
          <h1>Monolith</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/monolith-05.png" alt=""/>
            <span>Firewalls for security.</span>
          </div>
          <aside class="notes">
            To secure our infrastructure, we use firewalls to ensure traffic only flows between the appropriate zones. A DMZ firewall to [something something] and a zone firewall to [something something].
          </aside>
        </section>
				<section>
          <h1>What about <em>Microservices</em>?</h1>
          <aside class="notes">
            Okay, now how about microservices?
          </aside>
				</section>
        <section>
          <h1>Microservices</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/microservices-01.png" alt=""/>
            <span>Subsystems now deployed separately. More <em>agile</em>.</span>
          </div>
          <aside class="notes">
            Now let's look at how microservices architecture [deployments?] works. With microservices, you're breaking out these subsystems that were previously deployed together, and deploying them separately, possibly on different machines, or even data centers. The sub systems now talk [interact with?] to each other via networked APIs.

Decoupling systems into microservices provides greater operational efficiency. It allows us to get away from the "lowest common denominator" w/r/t development & deployment cycles. Each subsystem can move at its own pace.
          </aside>
        </section>
        <section>
          <h1>Microservices</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/microservices-02.png" alt=""/>
            <span>Agility comes with new operational challenges.</span>
          </div>
          <aside class="notes">
            While we gain agility during development, there is no free lunch! We’ve now adopted a set of new operational challenges. For example, in a monolithic architecture, when A wanted to call B, it was a simple in-memory function call. Now B must be reached over the network which means A needs to know how to reach B.
          </aside>
        </section>
        <section>
          <h1>Microservices</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/microservices-03.png" alt=""/>
            <span>e.g., Static addressing difficult to scale with multiplicity of instances.</span>
          </div>
          <aside class="notes">
            We don’t want to use a static address for B for several reasons. We may want multiple copies of B for scaling or availability. We also can’t depend on static IPs in a cloud environment, where dynamic IPs are the norm.
          </aside>
        </section>
        <section>
          <h1>Microservices</h1>
          <div class="vcentered">
            <img class="plain left" height="300px" src="images/consul-service-mesh/microservices-04.png" alt=""/>
            <span>Load balancer anti-pattern.</span>
          </div>
          <aside class="notes">
           Another common anti-pattern is to front B with a load balancer. This introduces a single point of failure, the load balancer, doubles the number of network hops between services, and increases our costs. 
          </aside>
        </section>
        <section>
          <h1>Additional challenges</h1>
          <h2>Clouds & Containers</h2>
          <ul class="left">
            <!--this is a test of fragments; don't have to keep if it's too much clicking-->
            <li class="fragment fade-in">Dynamic IP Addresses</li>
            <li class="fragment fade-in">Higher Failure Rate</li>
            <li class="fragment fade-in">Ephemeral Infrastructure</li>
            <li class="fragment fade-in">Complex Network Topology</li>
          </ul>
          <aside class="notes">
           Adding to our challenges, is a broad adoption of public clouds and containers. In these environments, we typically have dynamic IPs, higher failure rates, and ephemeral infrastructure that can scale up/down quickly and have a short lifespan. Paired with a complex network topology, our challenges get compounded.
          </aside>
        </section>
				<section>
          <h2>Code Sample</h2>
          	<pre><code data-trim data-noescape>
              service {
                name = "redis"
                port = 8000
                tags = ["global"]
              </code></pre>
				</section>
			</div>
		</div>

		<script src="reveal.js/lib/js/head.min.js"></script>
		<script src="reveal.js/js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
        history: true,
				dependencies: [
					{ src: 'reveal.js/plugin/markdown/marked.js' },
					{ src: 'reveal.js/plugin/markdown/markdown.js' },
					{ src: 'reveal.js/plugin/notes/notes.js', async: true },
					{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
